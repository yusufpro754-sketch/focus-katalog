const _0x2fe239=_0x461e;(function(_0x17afb3,_0x3f694f){const _0x1ee243=_0x461e,_0x2c3559=_0x17afb3();while(!![]){try{const _0x2b6a16=-parseInt(_0x1ee243(0x141))/0x1+parseInt(_0x1ee243(0x79))/0x2*(parseInt(_0x1ee243(0xe0))/0x3)+parseInt(_0x1ee243(0x153))/0x4*(-parseInt(_0x1ee243(0x10d))/0x5)+parseInt(_0x1ee243(0xf5))/0x6*(-parseInt(_0x1ee243(0x130))/0x7)+-parseInt(_0x1ee243(0x134))/0x8*(-parseInt(_0x1ee243(0xa9))/0x9)+parseInt(_0x1ee243(0x102))/0xa+parseInt(_0x1ee243(0xd8))/0xb;if(_0x2b6a16===_0x3f694f)break;else _0x2c3559['push'](_0x2c3559['shift']());}catch(_0x479664){_0x2c3559['push'](_0x2c3559['shift']());}}}(_0x5a17,0x3bb00));const API_URL=_0x2fe239(0xb4),ENCRYPTED_PASS=_0x2fe239(0x8a);let productData=[],customerData=[],logData=[],originalState={},isAdmin=![],currentUser=_0x2fe239(0x6b),openCategories=new Set(),activeTab=_0x2fe239(0xa7),currentCustId=null,draggedItemId=null,draggedItemIndex=-0x1;window[_0x2fe239(0x6a)]=function(){fetchData();};function verifyLogin(){const _0x274861=_0x2fe239,_0x3769d0=document[_0x274861(0xd2)]('loginPassword')[_0x274861(0xe3)],_0x38fdb9=document[_0x274861(0xd2)](_0x274861(0x110));btoa(_0x3769d0)===ENCRYPTED_PASS?(isAdmin=!![],document['getElementById'](_0x274861(0x8c))['style'][_0x274861(0x7e)]=_0x274861(0x8b),document[_0x274861(0xd2)](_0x274861(0x6f))[_0x274861(0x8d)][_0x274861(0x7e)]=_0x274861(0x127),addLog(_0x274861(0xea)),refreshCurrentView()):(_0x38fdb9[_0x274861(0x8d)][_0x274861(0x7e)]=_0x274861(0x127),document[_0x274861(0xd2)](_0x274861(0xf7))[_0x274861(0xe3)]='');}function logout(){location['reload']();}function switchTab(_0x5d35f2){const _0xdeba29=_0x2fe239;activeTab=_0x5d35f2,document[_0xdeba29(0xdc)](_0xdeba29(0xa4))[_0xdeba29(0xeb)](_0x5b0ec1=>_0x5b0ec1[_0xdeba29(0x15c)][_0xdeba29(0x14c)](_0xdeba29(0x104))),event[_0xdeba29(0x137)]['classList']['add'](_0xdeba29(0x104)),document[_0xdeba29(0xd2)]('stockView')[_0xdeba29(0x8d)]['display']=_0x5d35f2===_0xdeba29(0xa7)?_0xdeba29(0x127):_0xdeba29(0x8b),document[_0xdeba29(0xd2)](_0xdeba29(0x118))[_0xdeba29(0x8d)]['display']=_0x5d35f2===_0xdeba29(0x98)?'block':_0xdeba29(0x8b),refreshCurrentView();}function refreshCurrentView(){const _0x54a76a=_0x2fe239;activeTab===_0x54a76a(0xa7)?(document[_0x54a76a(0xd2)](_0x54a76a(0x85))[_0x54a76a(0x8d)][_0x54a76a(0x7e)]=_0x54a76a(0x13a),document[_0x54a76a(0xd2)](_0x54a76a(0xc6))[_0x54a76a(0x8d)]['display']=_0x54a76a(0x8b),renderTable()):(document[_0x54a76a(0xd2)]('stockControls')[_0x54a76a(0x8d)][_0x54a76a(0x7e)]=_0x54a76a(0x8b),document['getElementById'](_0x54a76a(0xc6))[_0x54a76a(0x8d)][_0x54a76a(0x7e)]=_0x54a76a(0x13a),renderCustomers());}async function fetchData(){const _0x25d4e5=_0x2fe239;try{const _0x30e629=await fetch(API_URL),_0x203000=await _0x30e629['json']();_0x203000&&(productData=_0x203000[_0x25d4e5(0xce)]||[],customerData=_0x203000[_0x25d4e5(0x98)]||[],logData=_0x203000['logs']||[]);productData[_0x25d4e5(0xeb)](_0x4f27c6=>{const _0x5cff6c=_0x25d4e5;if(!_0x4f27c6['id'])_0x4f27c6['id']=Date[_0x5cff6c(0x12f)]()+Math[_0x5cff6c(0x6d)]();}),customerData[_0x25d4e5(0xeb)](_0x1623ab=>{const _0x132551=_0x25d4e5;if(!_0x1623ab['id'])_0x1623ab['id']=Date[_0x132551(0x12f)]()+Math[_0x132551(0x6d)]();}),storeOriginalState();const _0x3a1485=[...new Set(productData['map'](_0x2c62dd=>_0x2c62dd[_0x25d4e5(0xa1)]))];_0x3a1485[_0x25d4e5(0xeb)](_0x18a2a0=>openCategories[_0x25d4e5(0x11d)](_0x18a2a0)),document['getElementById'](_0x25d4e5(0xc2))[_0x25d4e5(0x8d)]['display']=_0x25d4e5(0x8b);}catch(_0x536fee){console[_0x25d4e5(0xb0)](_0x536fee),document['getElementById'](_0x25d4e5(0xc2))[_0x25d4e5(0x8d)][_0x25d4e5(0x7e)]=_0x25d4e5(0x8b);}}function storeOriginalState(){const _0xe405c2=_0x2fe239;originalState={},productData[_0xe405c2(0xeb)](_0x1a12f8=>{originalState[_0x1a12f8['id']]={..._0x1a12f8};});}function addLog(_0x31395d){const _0x12a698=_0x2fe239,_0x1e8b3c=new Date()[_0x12a698(0xc7)](_0x12a698(0x116));logData[_0x12a698(0x146)]({'id':Date[_0x12a698(0x12f)](),'date':_0x1e8b3c,'user':currentUser,'action':_0x31395d,'note':''});if(logData[_0x12a698(0x9f)]>0x1388)logData[_0x12a698(0x9a)]();}function editLogDesc(_0x5f2737){const _0x15d232=_0x2fe239,_0x2b062e=logData[_0x5f2737]['note']||'',_0x45aa8f=prompt(_0x15d232(0xda),_0x2b062e);_0x45aa8f!==null&&(logData[_0x5f2737][_0x15d232(0x109)]=_0x45aa8f,saveToCloud(),openLogModal());}function openLogModal(){const _0x9ff97f=_0x2fe239,_0x1e327a=document['getElementById'](_0x9ff97f(0xd1));_0x1e327a[_0x9ff97f(0x15d)]='',logData[_0x9ff97f(0xeb)]((_0x2932d2,_0x1ef38c)=>{const _0x5dbcf0=_0x9ff97f;let _0x1805b6=_0x5dbcf0(0xd9);if(_0x2932d2[_0x5dbcf0(0x14b)][_0x5dbcf0(0xbf)](_0x5dbcf0(0x15b))||_0x2932d2['action'][_0x5dbcf0(0xbf)](_0x5dbcf0(0xa0)))_0x1805b6=_0x5dbcf0(0xec);if(_0x2932d2[_0x5dbcf0(0x14b)]['includes'](_0x5dbcf0(0xfd))||_0x2932d2[_0x5dbcf0(0x14b)][_0x5dbcf0(0xbf)]('azaltıldı')||_0x2932d2[_0x5dbcf0(0x14b)]['includes'](_0x5dbcf0(0xe9)))_0x1805b6=_0x5dbcf0(0x89);const _0x4b5ffa=_0x2932d2[_0x5dbcf0(0x109)]?_0x5dbcf0(0xab)+_0x2932d2['note']+'</span>':'',_0x47ab4d=_0x5dbcf0(0xc9)+_0x2932d2[_0x5dbcf0(0x155)]+_0x5dbcf0(0x145)+_0x2932d2[_0x5dbcf0(0x154)]+_0x5dbcf0(0x9b)+_0x1805b6+'\x22\x20style=\x22padding:2px\x205px;\x20border-radius:3px;\x22>'+_0x2932d2['action']+_0x5dbcf0(0xe5)+_0x4b5ffa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22log-edit-btn\x22\x20onclick=\x22editLogDesc('+_0x1ef38c+')\x22><i\x20class=\x22fa-solid\x20fa-pen-to-square\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>';_0x1e327a[_0x5dbcf0(0x15d)]+=_0x47ab4d;}),document[_0x9ff97f(0xd2)](_0x9ff97f(0xff))['style'][_0x9ff97f(0x7e)]=_0x9ff97f(0x13a);}function closeLogModal(){const _0x5c4129=_0x2fe239;document[_0x5c4129(0xd2)](_0x5c4129(0xff))[_0x5c4129(0x8d)]['display']='none';}async function saveToCloud(){const _0x147208=_0x2fe239,_0x18ced2=document[_0x147208(0xd2)](_0x147208(0x12d)),_0x33b1e3=_0x18ced2[_0x147208(0x15d)];_0x18ced2[_0x147208(0x15d)]=_0x147208(0x73);try{const _0x549582={'products':productData,'customers':customerData,'logs':logData};await fetch(API_URL,{'method':'POST','mode':'no-cors','body':JSON[_0x147208(0x91)](_0x549582)}),alert('Başarıyla\x20Kaydedildi!'),storeOriginalState(),_0x18ced2[_0x147208(0x8d)][_0x147208(0x7e)]=_0x147208(0x8b);}catch(_0x16794a){alert('Hata\x20oluştu.');}_0x18ced2[_0x147208(0x15d)]=_0x33b1e3;}function openSaveModal(){const _0x2274cb=_0x2fe239;document[_0x2274cb(0xd2)](_0x2274cb(0xe2))[_0x2274cb(0xe3)]='',document[_0x2274cb(0xd2)]('saveModal')[_0x2274cb(0x8d)][_0x2274cb(0x7e)]=_0x2274cb(0x13a);}function closeSaveModal(){const _0x5cb9ba=_0x2fe239;document['getElementById']('saveModal')['style'][_0x5cb9ba(0x7e)]=_0x5cb9ba(0x8b);}function confirmSave(){const _0xf07095=_0x2fe239,_0x539231=document[_0xf07095(0xd2)]('saveNote')[_0xf07095(0xe3)][_0xf07095(0xa3)]();closeSaveModal();let _0x344a01=[];productData[_0xf07095(0xeb)](_0x2d4ebc=>{const _0x3e21d2=_0xf07095,_0x1f8bb5=originalState[_0x2d4ebc['id']];if(!_0x1f8bb5)return;if(_0x2d4ebc[_0x3e21d2(0x119)]!==_0x1f8bb5[_0x3e21d2(0x119)]){const _0xdd8538=_0x2d4ebc[_0x3e21d2(0x119)]-_0x1f8bb5[_0x3e21d2(0x119)],_0x3888d7=_0xdd8538>0x0?_0x3e21d2(0x87):_0x3e21d2(0xb8);_0x344a01['push'](_0x2d4ebc['name']+_0x3e21d2(0xfa)+_0x1f8bb5['qty']+_0x3e21d2(0x159)+_0x2d4ebc[_0x3e21d2(0x119)]+'\x20('+Math['abs'](_0xdd8538)+_0x3e21d2(0xcb)+_0x3888d7+')');}_0x2d4ebc[_0x3e21d2(0x10b)]!==_0x1f8bb5[_0x3e21d2(0x10b)]&&_0x344a01[_0x3e21d2(0x113)](_0x2d4ebc['name']+_0x3e21d2(0xc4)+_0x1f8bb5['price']+_0x3e21d2(0x70)+_0x2d4ebc[_0x3e21d2(0x10b)]+_0x3e21d2(0xee));});if(_0x344a01['length']>0x0){const _0x5af794=_0x344a01[_0xf07095(0x131)](_0xf07095(0x15a));addLog(_0x5af794+(_0x539231?'\x20(Not:\x20'+_0x539231+')':''));}else _0x539231&&addLog(_0xf07095(0xf8)+_0x539231);saveToCloud();}function renderCustomers(){const _0x3adc1e=_0x2fe239,_0x350056=document['getElementById'](_0x3adc1e(0x68));_0x350056['innerHTML']='';const _0x1a2b4e=document[_0x3adc1e(0xd2)](_0x3adc1e(0x86))[_0x3adc1e(0xe3)][_0x3adc1e(0xaf)](),_0x17164b=customerData['filter'](_0x1f4e22=>_0x1f4e22[_0x3adc1e(0x120)]&&_0x1f4e22[_0x3adc1e(0x120)][_0x3adc1e(0xaf)]()['includes'](_0x1a2b4e)||_0x1f4e22['device']&&_0x1f4e22[_0x3adc1e(0x10c)][_0x3adc1e(0xaf)]()[_0x3adc1e(0xbf)](_0x1a2b4e));if(_0x17164b[_0x3adc1e(0x9f)]===0x0){_0x350056['innerHTML']='<p\x20style=\x22grid-column:1/-1;\x20text-align:center;\x20color:#94a3b8;\x20margin-top:20px;\x22>Kayıt\x20bulunamadı.</p>';return;}_0x17164b[_0x3adc1e(0xeb)](_0x482152=>{const _0x34109f=_0x3adc1e;let _0x1a42a1='status-gorusuluyor';if(_0x482152[_0x34109f(0x14a)]===_0x34109f(0x128))_0x1a42a1=_0x34109f(0x81);if(_0x482152[_0x34109f(0x14a)]===_0x34109f(0x9e))_0x1a42a1=_0x34109f(0x13b);if(_0x482152[_0x34109f(0x14a)]===_0x34109f(0x82))_0x1a42a1='status-teslim';if(_0x482152[_0x34109f(0x14a)]===_0x34109f(0x74))_0x1a42a1='status-iptal';const _0x1aeafe=document['createElement'](_0x34109f(0xad));_0x1aeafe[_0x34109f(0xa8)]=_0x34109f(0xb7),_0x1aeafe[_0x34109f(0xe6)]=()=>openCustomerModal(_0x482152['id']),_0x1aeafe[_0x34109f(0x15d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cust-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><div\x20class=\x22cust-name\x22>'+_0x482152[_0x34109f(0x120)]+_0x34109f(0x152)+(_0x482152[_0x34109f(0x10c)]||'')+'</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22cust-status\x20'+_0x1a42a1+'\x22>'+_0x482152[_0x34109f(0x14a)]+_0x34109f(0x123)+(_0x482152[_0x34109f(0xdf)]||'-')+_0x34109f(0x94)+(_0x482152[_0x34109f(0xb6)]-_0x482152[_0x34109f(0xb3)])[_0x34109f(0xc7)](_0x34109f(0x116))+_0x34109f(0x77)+_0x482152[_0x34109f(0xdf)]+_0x34109f(0x12e)+(_0x482152['phone']?_0x482152[_0x34109f(0xdf)][_0x34109f(0xdb)](/^0/,'')[_0x34109f(0xdb)](/\s/g,''):'')+'\x22\x20target=\x22_blank\x22\x20class=\x22action-btn\x20whatsapp\x22><i\x20class=\x22fa-brands\x20fa-whatsapp\x22></i>\x20Yaz</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x350056[_0x34109f(0x90)](_0x1aeafe);});}function openCustomerModal(_0x34be0f=null){const _0x3e993e=_0x2fe239;currentCustId=_0x34be0f;const _0x87b8eb=document[_0x3e993e(0xd2)](_0x3e993e(0x8f));if(_0x34be0f){const _0x51a87d=customerData[_0x3e993e(0x115)](_0x58f3df=>_0x58f3df['id']===_0x34be0f);document[_0x3e993e(0xd2)](_0x3e993e(0xc0))[_0x3e993e(0xc8)]=_0x3e993e(0xf2),document['getElementById'](_0x3e993e(0xd3))[_0x3e993e(0xe3)]=_0x51a87d[_0x3e993e(0x120)],document['getElementById'](_0x3e993e(0x129))[_0x3e993e(0xe3)]=_0x51a87d['phone'],document[_0x3e993e(0xd2)](_0x3e993e(0x106))[_0x3e993e(0xe3)]=_0x51a87d[_0x3e993e(0x10c)],document[_0x3e993e(0xd2)](_0x3e993e(0x6e))[_0x3e993e(0xe3)]=_0x51a87d[_0x3e993e(0x69)],document[_0x3e993e(0xd2)](_0x3e993e(0x142))[_0x3e993e(0xe3)]=_0x51a87d[_0x3e993e(0x14a)],document[_0x3e993e(0xd2)](_0x3e993e(0x11e))['value']=_0x51a87d[_0x3e993e(0xb6)]||'',document[_0x3e993e(0xd2)]('custPaid')[_0x3e993e(0xe3)]=_0x51a87d[_0x3e993e(0xb3)]||'',document[_0x3e993e(0xd2)](_0x3e993e(0x111))[_0x3e993e(0xe3)]=_0x51a87d['notes']||'',document['getElementById'](_0x3e993e(0x156))['style']['display']=_0x3e993e(0x127),updateRestAmount();}else document[_0x3e993e(0xd2)](_0x3e993e(0xc0))[_0x3e993e(0xc8)]=_0x3e993e(0xfb),document['getElementById']('custName')[_0x3e993e(0xe3)]='',document['getElementById'](_0x3e993e(0x129))[_0x3e993e(0xe3)]='',document[_0x3e993e(0xd2)](_0x3e993e(0x106))[_0x3e993e(0xe3)]='',document[_0x3e993e(0xd2)]('custPaymentType')[_0x3e993e(0xe3)]=_0x3e993e(0xf9),document['getElementById'](_0x3e993e(0x142))[_0x3e993e(0xe3)]=_0x3e993e(0xb1),document[_0x3e993e(0xd2)](_0x3e993e(0x11e))[_0x3e993e(0xe3)]='',document[_0x3e993e(0xd2)]('custPaid')[_0x3e993e(0xe3)]='',document['getElementById'](_0x3e993e(0xf6))[_0x3e993e(0xe3)]='',document[_0x3e993e(0xd2)](_0x3e993e(0x111))[_0x3e993e(0xe3)]='',document[_0x3e993e(0xd2)](_0x3e993e(0x156))[_0x3e993e(0x8d)]['display']='none';document['getElementById'](_0x3e993e(0x11e))['oninput']=updateRestAmount,document[_0x3e993e(0xd2)](_0x3e993e(0x103))[_0x3e993e(0xbb)]=updateRestAmount,_0x87b8eb[_0x3e993e(0x8d)][_0x3e993e(0x7e)]=_0x3e993e(0x13a);}function updateRestAmount(){const _0x232f6d=_0x2fe239,_0x4a84fe=parseFloat(document[_0x232f6d(0xd2)](_0x232f6d(0x11e))[_0x232f6d(0xe3)])||0x0,_0x3de317=parseFloat(document[_0x232f6d(0xd2)]('custPaid')[_0x232f6d(0xe3)])||0x0;document[_0x232f6d(0xd2)](_0x232f6d(0xf6))[_0x232f6d(0xe3)]=_0x4a84fe-_0x3de317;}function closeCustomerModal(){const _0x11d176=_0x2fe239;document[_0x11d176(0xd2)](_0x11d176(0x8f))['style'][_0x11d176(0x7e)]='none';}function saveCustomer(){const _0x3fa09f=_0x2fe239,_0x27f905=document[_0x3fa09f(0xd2)](_0x3fa09f(0xd3))[_0x3fa09f(0xe3)];if(!_0x27f905){alert(_0x3fa09f(0x12a));return;}const _0x700930={'id':currentCustId||Date[_0x3fa09f(0x12f)](),'name':_0x27f905,'phone':document['getElementById'](_0x3fa09f(0x129))[_0x3fa09f(0xe3)],'device':document[_0x3fa09f(0xd2)]('custDevice')[_0x3fa09f(0xe3)],'paymentType':document[_0x3fa09f(0xd2)](_0x3fa09f(0x6e))[_0x3fa09f(0xe3)],'status':document[_0x3fa09f(0xd2)](_0x3fa09f(0x142))[_0x3fa09f(0xe3)],'totalAmount':parseFloat(document[_0x3fa09f(0xd2)](_0x3fa09f(0x11e))[_0x3fa09f(0xe3)])||0x0,'paidAmount':parseFloat(document[_0x3fa09f(0xd2)]('custPaid')[_0x3fa09f(0xe3)])||0x0,'notes':document[_0x3fa09f(0xd2)](_0x3fa09f(0x111))['value'],'dateAdded':new Date()[_0x3fa09f(0xfc)](_0x3fa09f(0x116))};if(currentCustId){const _0x3fece7=customerData[_0x3fa09f(0x140)](_0x5f58eb=>_0x5f58eb['id']===currentCustId),_0x52ac77=customerData[_0x3fece7];customerData[_0x3fece7]=_0x700930;let _0x280c26=[];if(_0x52ac77[_0x3fa09f(0xb6)]!==_0x700930[_0x3fa09f(0xb6)])_0x280c26[_0x3fa09f(0x113)](_0x3fa09f(0x7d)+_0x52ac77[_0x3fa09f(0xb6)]+_0x3fa09f(0x159)+_0x700930[_0x3fa09f(0xb6)]);if(_0x52ac77[_0x3fa09f(0xb3)]!==_0x700930['paidAmount'])_0x280c26[_0x3fa09f(0x113)](_0x3fa09f(0xb5)+_0x52ac77[_0x3fa09f(0xb3)]+_0x3fa09f(0x159)+_0x700930[_0x3fa09f(0xb3)]);if(_0x52ac77['status']!==_0x700930['status'])_0x280c26[_0x3fa09f(0x113)]('Durum:\x20'+_0x52ac77[_0x3fa09f(0x14a)]+_0x3fa09f(0x159)+_0x700930[_0x3fa09f(0x14a)]);const _0x45c87a=_0x280c26[_0x3fa09f(0x9f)]>0x0?'\x20('+_0x280c26[_0x3fa09f(0x131)](',\x20')+')':'';addLog(_0x3fa09f(0x158)+_0x27f905+_0x45c87a);}else{customerData[_0x3fa09f(0x113)](_0x700930);const _0x3541d8=_0x700930[_0x3fa09f(0xb6)]-_0x700930[_0x3fa09f(0xb3)];addLog(_0x3fa09f(0x10a)+_0x27f905+'\x20|\x20Cihaz:\x20'+_0x700930[_0x3fa09f(0x10c)]+'\x20|\x20Anlaşılan:\x20'+_0x700930[_0x3fa09f(0xb6)]+_0x3fa09f(0x14d)+_0x700930[_0x3fa09f(0xb3)]+_0x3fa09f(0xcc)+_0x3541d8+'₺');}closeCustomerModal(),renderCustomers(),document['getElementById'](_0x3fa09f(0x12d))[_0x3fa09f(0x8d)][_0x3fa09f(0x7e)]=_0x3fa09f(0x13a);}function deleteCustomer(){const _0x3a44b5=_0x2fe239;if(confirm(_0x3a44b5(0xa6))){const _0x1820e9=customerData[_0x3a44b5(0x115)](_0x1d9b86=>_0x1d9b86['id']===currentCustId);customerData=customerData['filter'](_0x142589=>_0x142589['id']!==currentCustId),addLog(_0x3a44b5(0x149)+_0x1820e9['name']),closeCustomerModal(),renderCustomers(),document[_0x3a44b5(0xd2)](_0x3a44b5(0x12d))[_0x3a44b5(0x8d)][_0x3a44b5(0x7e)]='flex';}}function handleSearch(){const _0x14625b=_0x2fe239;if(activeTab===_0x14625b(0xa7))renderTable();else renderCustomers();}function handleDragStart(_0x13c56a){const _0x3bc109=_0x2fe239;draggedItemId=parseFloat(_0x13c56a[_0x3bc109(0x80)]['dataset']['id']),_0x13c56a['target']['classList']['add'](_0x3bc109(0xa2)),_0x13c56a[_0x3bc109(0x13d)][_0x3bc109(0xe7)]=_0x3bc109(0x96);}function handleDragEnd(_0x32bd20){const _0x54c616=_0x2fe239;_0x32bd20[_0x54c616(0x80)][_0x54c616(0x15c)][_0x54c616(0x14c)](_0x54c616(0xa2)),document[_0x54c616(0xdc)]('tr')[_0x54c616(0xeb)](_0x5d9e08=>_0x5d9e08[_0x54c616(0x15c)]['remove'](_0x54c616(0x75),_0x54c616(0x7a),_0x54c616(0x151)));}function handleDragOver(_0x32ed9b){const _0x31f991=_0x2fe239;_0x32ed9b['preventDefault']();const _0x3bbe7d=_0x32ed9b[_0x31f991(0x80)][_0x31f991(0xbe)]('tr');if(_0x3bbe7d&&!_0x3bbe7d[_0x31f991(0x15c)][_0x31f991(0x6c)](_0x31f991(0xa2))){if(_0x3bbe7d[_0x31f991(0x15c)]['contains'](_0x31f991(0xaa))){const _0x4e18f0=_0x32ed9b[_0x31f991(0xf4)]-_0x3bbe7d[_0x31f991(0xcd)]()['top'];_0x3bbe7d[_0x31f991(0x15c)][_0x31f991(0x14c)](_0x31f991(0x75),_0x31f991(0x7a)),_0x3bbe7d[_0x31f991(0x15c)][_0x31f991(0x11d)](_0x4e18f0<_0x3bbe7d[_0x31f991(0x147)]/0x2?'drag-over-top':_0x31f991(0x7a));}else{if(_0x3bbe7d[_0x31f991(0x15c)][_0x31f991(0x6c)](_0x31f991(0xd4)))_0x3bbe7d[_0x31f991(0x15c)]['add'](_0x31f991(0x151));}}}function handleDragLeave(_0x4605b3){const _0xf81c1f=_0x2fe239,_0x217fcc=_0x4605b3[_0xf81c1f(0x80)][_0xf81c1f(0xbe)]('tr');if(_0x217fcc)_0x217fcc[_0xf81c1f(0x15c)]['remove'](_0xf81c1f(0x75),_0xf81c1f(0x7a),'drag-over');}function handleDrop(_0x1bc274){const _0x5dd788=_0x2fe239;_0x1bc274[_0x5dd788(0x7b)](),_0x1bc274[_0x5dd788(0x125)]();if(!draggedItemId)return;const _0x2e05dc=_0x1bc274[_0x5dd788(0x80)][_0x5dd788(0xbe)]('tr');if(!_0x2e05dc)return;const _0x1361ad=productData[_0x5dd788(0x115)](_0x20fa5a=>_0x20fa5a['id']===draggedItemId),_0x3fd8f9=productData[_0x5dd788(0x14f)](_0x1361ad);if(_0x2e05dc['classList'][_0x5dd788(0x6c)]('cat-row')){const _0x4641f6=_0x2e05dc[_0x5dd788(0x15f)]('.cat-actions\x20span')[_0x5dd788(0xc8)];if(_0x1361ad[_0x5dd788(0xa1)]!==_0x4641f6){_0x1361ad[_0x5dd788(0xa1)]=_0x4641f6,productData['splice'](_0x3fd8f9,0x1);const _0x1d9785=productData['findIndex'](_0x299048=>_0x299048[_0x5dd788(0xa1)]===_0x4641f6);if(_0x1d9785>-0x1)productData[_0x5dd788(0xc1)](_0x1d9785,0x0,_0x1361ad);else productData['push'](_0x1361ad);openCategories['add'](_0x4641f6);}}else{if(_0x2e05dc[_0x5dd788(0x15c)][_0x5dd788(0x6c)]('item-row')){const _0x3b511b=parseFloat(_0x2e05dc[_0x5dd788(0x10f)]['id']),_0xa94e22=productData['find'](_0x3838de=>_0x3838de['id']===_0x3b511b);if(_0x1361ad!==_0xa94e22){if(_0x1361ad[_0x5dd788(0xa1)]!==_0xa94e22[_0x5dd788(0xa1)])_0x1361ad[_0x5dd788(0xa1)]=_0xa94e22[_0x5dd788(0xa1)];productData[_0x5dd788(0xc1)](_0x3fd8f9,0x1);const _0x2f3b54=productData[_0x5dd788(0x14f)](_0xa94e22);productData['splice'](_0x2e05dc[_0x5dd788(0x15c)][_0x5dd788(0x6c)](_0x5dd788(0x7a))?_0x2f3b54+0x1:_0x2f3b54,0x0,_0x1361ad);}}}handleDragEnd({'target':document[_0x5dd788(0x15f)](_0x5dd788(0x11a))}),renderTable(),document['getElementById']('globalSaveBtn')[_0x5dd788(0x8d)][_0x5dd788(0x7e)]=_0x5dd788(0x13a);}function renderTable(){const _0x3baaec=_0x2fe239,_0x56a47b=document['getElementById'](_0x3baaec(0xde));_0x56a47b[_0x3baaec(0x15d)]='';const _0x38e8cb=document[_0x3baaec(0xd2)]('searchInput')[_0x3baaec(0xe3)][_0x3baaec(0xaf)]();if(productData['length']===0x0){_0x56a47b[_0x3baaec(0x15d)]=_0x3baaec(0x108),calculateTotal();return;}let _0x56bf68=productData;if(_0x38e8cb)_0x56bf68=productData['filter'](_0x6fe05d=>_0x6fe05d[_0x3baaec(0x120)][_0x3baaec(0xaf)]()[_0x3baaec(0xbf)](_0x38e8cb));let _0x407602=null;_0x56bf68['forEach'](_0x25ff47=>{const _0x4dfd53=_0x3baaec,_0x30c254=productData['indexOf'](_0x25ff47)+0x1;if(_0x25ff47[_0x4dfd53(0xa1)]!==_0x407602){_0x407602=_0x25ff47[_0x4dfd53(0xa1)];const _0x4765aa=openCategories[_0x4dfd53(0x78)](_0x407602)||_0x38e8cb[_0x4dfd53(0x9f)]>0x0,_0x23e65e=_0x4765aa?'rotate(-180deg)':_0x4dfd53(0xbc),_0x2bb0b8=document[_0x4dfd53(0x126)]('tr');_0x2bb0b8[_0x4dfd53(0xa8)]=_0x4dfd53(0xd4),_0x2bb0b8['addEventListener'](_0x4dfd53(0xd0),handleDragOver),_0x2bb0b8[_0x4dfd53(0xe1)](_0x4dfd53(0x101),handleDragLeave),_0x2bb0b8[_0x4dfd53(0xe1)]('drop',handleDrop),_0x2bb0b8[_0x4dfd53(0x15d)]=_0x4dfd53(0x136)+_0x407602+'\x27)\x22\x20style=\x22flex-grow:1;\x20display:flex;\x20align-items:center;\x20justify-content:space-between;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x407602+_0x4dfd53(0x121)+_0x23e65e+_0x4dfd53(0x138)+_0x407602+_0x4dfd53(0x83),_0x56a47b['appendChild'](_0x2bb0b8);}const _0x298dd1=openCategories[_0x4dfd53(0x78)](_0x25ff47[_0x4dfd53(0xa1)])||_0x38e8cb[_0x4dfd53(0x9f)]>0x0;if(_0x298dd1){const _0x140822=document[_0x4dfd53(0x126)]('tr');_0x140822[_0x4dfd53(0xa8)]='item-row',_0x140822[_0x4dfd53(0x10f)]['id']=_0x25ff47['id'];!_0x38e8cb&&(_0x140822[_0x4dfd53(0x12c)](_0x4dfd53(0x107),!![]),_0x140822[_0x4dfd53(0xe1)](_0x4dfd53(0x71),handleDragStart),_0x140822[_0x4dfd53(0xe1)](_0x4dfd53(0xd0),handleDragOver),_0x140822[_0x4dfd53(0xe1)](_0x4dfd53(0x101),handleDragLeave),_0x140822[_0x4dfd53(0xe1)](_0x4dfd53(0xae),handleDrop),_0x140822[_0x4dfd53(0xe1)](_0x4dfd53(0x14e),handleDragEnd));const _0x3a5b2e=_0x25ff47[_0x4dfd53(0x10b)]===0x0?'':_0x25ff47[_0x4dfd53(0x10b)],_0x17c166=_0x25ff47[_0x4dfd53(0x119)]===0x0?'':_0x25ff47['qty'],_0x5a1381='<td\x20class=\x22trash-cell\x22\x20style=\x22text-align:center;\x22><i\x20class=\x22fa-solid\x20fa-trash\x22\x20style=\x22color:#ef4444;\x20cursor:pointer;\x22\x20onclick=\x22deleteItem('+_0x25ff47['id']+_0x4dfd53(0xef)+_0x25ff47[_0x4dfd53(0x120)]+_0x4dfd53(0x84);_0x140822[_0x4dfd53(0x15d)]=_0x4dfd53(0x88)+_0x30c254+_0x4dfd53(0x97)+_0x25ff47['name']+_0x4dfd53(0x114)+_0x25ff47['id']+_0x4dfd53(0x139)+_0x3a5b2e+_0x4dfd53(0x114)+_0x25ff47['id']+_0x4dfd53(0x12b)+_0x25ff47['id']+',\x20-1)\x22>-</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22qty-val\x22\x20placeholder=\x220\x22\x20value=\x22'+_0x17c166+'\x22\x20oninput=\x22updateQtyManual('+_0x25ff47['id']+_0x4dfd53(0xfe)+_0x25ff47['id']+',\x201)\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20data-label=\x22Toplam\x22\x20style=\x22text-align:right;\x20font-weight:bold;\x20color:var(--primary);\x22\x20id=\x22total-'+_0x25ff47['id']+'\x22>'+(_0x25ff47[_0x4dfd53(0x10b)]*_0x25ff47[_0x4dfd53(0x119)])['toLocaleString'](_0x4dfd53(0x116),{'minimumFractionDigits':0x2})+_0x4dfd53(0xb9)+_0x5a1381+_0x4dfd53(0xf3),_0x56a47b[_0x4dfd53(0x90)](_0x140822);}}),calculateTotal();}function updateData(_0xee4bbe,_0x42ef0c,_0x53ea1d){const _0x527066=_0x2fe239,_0x685e7c=productData[_0x527066(0x115)](_0x255372=>_0x255372['id']===_0xee4bbe);if(!_0x685e7c)return;if(_0x42ef0c==='price')_0x685e7c[_0x42ef0c]=parseFloat(_0x53ea1d)||0x0;else _0x685e7c[_0x42ef0c]=_0x53ea1d;if(_0x42ef0c===_0x527066(0x10b))document[_0x527066(0xd2)]('total-'+_0xee4bbe)[_0x527066(0xc8)]=(_0x685e7c['price']*_0x685e7c[_0x527066(0x119)])['toLocaleString'](_0x527066(0x116),{'minimumFractionDigits':0x2})+'\x20₺';calculateTotal(),document['getElementById'](_0x527066(0x12d))['style'][_0x527066(0x7e)]=_0x527066(0x13a);}function updateQty(_0xd66a8,_0x3bee21){const _0x4ce254=_0x2fe239,_0x527959=productData[_0x4ce254(0x115)](_0x595d18=>_0x595d18['id']===_0xd66a8);if(!_0x527959)return;let _0x48b7c5=(_0x527959[_0x4ce254(0x119)]||0x0)+_0x3bee21;if(_0x48b7c5<0x0)_0x48b7c5=0x0;_0x527959[_0x4ce254(0x119)]=_0x48b7c5,renderTable(),document[_0x4ce254(0xd2)](_0x4ce254(0x12d))['style'][_0x4ce254(0x7e)]=_0x4ce254(0x13a);}function updateQtyManual(_0x3a2359,_0x3c983c){const _0x48911b=_0x2fe239,_0x39232b=productData[_0x48911b(0x115)](_0x43c602=>_0x43c602['id']===_0x3a2359);if(!_0x39232b)return;_0x39232b[_0x48911b(0x119)]=parseInt(_0x3c983c)||0x0,document[_0x48911b(0xd2)]('total-'+_0x3a2359)[_0x48911b(0xc8)]=(_0x39232b['price']*_0x39232b[_0x48911b(0x119)])[_0x48911b(0xc7)]('tr-TR',{'minimumFractionDigits':0x2})+'\x20₺',calculateTotal(),document[_0x48911b(0xd2)](_0x48911b(0x12d))['style']['display']=_0x48911b(0x13a);}function calculateTotal(){const _0x1e7e41=_0x2fe239,_0x19a959=productData[_0x1e7e41(0x13e)]((_0x53bb32,_0x18a7e9)=>_0x53bb32+_0x18a7e9[_0x1e7e41(0x10b)]*_0x18a7e9[_0x1e7e41(0x119)],0x0);document['getElementById'](_0x1e7e41(0xca))[_0x1e7e41(0xc8)]=_0x19a959[_0x1e7e41(0xc7)]('tr-TR',{'minimumFractionDigits':0x2})+'\x20₺';}function _0x461e(_0x59c379,_0x9e9a1b){_0x59c379=_0x59c379-0x68;const _0x5a178e=_0x5a17();let _0x461eeb=_0x5a178e[_0x59c379];return _0x461eeb;}function toggleCategory(_0x5587b1){const _0x6b59f5=_0x2fe239;if(openCategories['has'](_0x5587b1))openCategories['delete'](_0x5587b1);else openCategories[_0x6b59f5(0x11d)](_0x5587b1);renderTable();}function editCategoryName(_0x126557){const _0x10f752=_0x2fe239,_0x2d9d7a=prompt('Kategori\x20adı\x20(Silmek\x20için\x20boş\x20bırakın):',_0x126557);if(_0x2d9d7a===null)return;if(_0x2d9d7a['trim']()==='')confirm('\x22'+_0x126557+_0x10f752(0x157))&&(productData[_0x10f752(0xeb)](_0x3e6130=>{const _0x2c54da=_0x10f752;if(_0x3e6130[_0x2c54da(0xa1)]===_0x126557)_0x3e6130[_0x2c54da(0xa1)]=_0x2c54da(0x135);}),openCategories[_0x10f752(0x7c)](_0x126557),openCategories[_0x10f752(0x11d)](_0x10f752(0x135)),addLog('Kategori\x20Silindi:\x20'+_0x126557),renderTable(),document[_0x10f752(0xd2)]('globalSaveBtn')[_0x10f752(0x8d)][_0x10f752(0x7e)]=_0x10f752(0x13a));else _0x2d9d7a!==_0x126557&&(productData[_0x10f752(0xeb)](_0x513521=>{const _0x531838=_0x10f752;if(_0x513521['category']===_0x126557)_0x513521[_0x531838(0xa1)]=_0x2d9d7a[_0x531838(0xa3)]()[_0x531838(0xf0)]();}),openCategories[_0x10f752(0x7c)](_0x126557),openCategories[_0x10f752(0x11d)](_0x2d9d7a[_0x10f752(0xa3)]()[_0x10f752(0xf0)]()),addLog('Kategori\x20Değişti:\x20'+_0x126557),renderTable(),document['getElementById']('globalSaveBtn')[_0x10f752(0x8d)][_0x10f752(0x7e)]='flex');}function deleteItem(_0x4de3d2,_0x29b5cf){const _0x2f812d=_0x2fe239;confirm(_0x29b5cf+_0x2f812d(0x9c))&&(productData=productData['filter'](_0x371270=>_0x371270['id']!==_0x4de3d2),addLog(_0x29b5cf+_0x2f812d(0xd5)),renderTable(),document[_0x2f812d(0xd2)](_0x2f812d(0x12d))[_0x2f812d(0x8d)]['display']=_0x2f812d(0x13a));}function resetAll(){const _0xa42fa7=_0x2fe239;confirm(_0xa42fa7(0x7f))&&(productData=[],addLog(_0xa42fa7(0x122)),renderTable(),document[_0xa42fa7(0xd2)](_0xa42fa7(0x12d))[_0xa42fa7(0x8d)]['display']=_0xa42fa7(0x13a));}function _0x5a17(){const _0x487e1f=['₺\x20->\x20','dragstart','\x20güncel','<i\x20class=\x22fa-solid\x20fa-spinner\x20fa-spin\x22></i>','İptal','drag-over-top','Ürün\x20adı\x20girin','\x20₺</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cust-actions\x22\x20onclick=\x22event.stopPropagation()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22tel:','has','37894VJYLVy','drag-over-bottom','preventDefault','delete','Tutar:\x20','display','Tüm\x20stok\x20listesi\x20silinecek?','target','status-teklif','Teslim\x20Edildi','\x27)\x22><i\x20class=\x22fa-solid\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22></i></td>','stockControls','searchInput','Arttı','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22index-cell\x22>','badge-dec','MzU4MDM0','none','loginScreen','style','min','customerModal','appendChild','stringify','json_to_sheet','<option\x20value=\x22NEW\x22>+\x20YENİ</option>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:0.8rem;\x20background:#f1f5f9;\x20padding:5px;\x20border-radius:4px;\x22><b>Kalan:</b>\x20','newName','move','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20data-label=\x22Ürün\x22><input\x20type=\x22text\x22\x20class=\x22input-clean\x22\x20value=\x22','customers','newCatText','pop','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22','\x20silinecek?','array','Kapora\x20Alındı','length','artırıldı','category','dragging','trim','.nav-btn','newPrice','Bu\x20müşteri\x20kaydını\x20silmek\x20istediğinize\x20emin\x20misiniz?','stock','className','1017dlxjBj','item-row','<span\x20class=\x22log-extra-note\x22><i\x20class=\x22fa-solid\x20fa-comment-dots\x22></i>\x20','KATEGORİ','div','drop','toLowerCase','error','Görüşülüyor','result','paidAmount','https://script.google.com/macros/s/AKfycbzRsa14tQX1cxHdk_1Q5suD5PKNRwBWd2HGyTKlQjvadcrFW6IdsxjASv-If56oeGyE/exec','Ödenen:\x20','totalAmount','customer-card','Azaldı','\x20₺</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','oninput','rotate(0deg)','addModal','closest','includes','custModalTitle','splice','loading','</option>','\x20Fiyatı:\x20','NEW','customerControls','toLocaleString','innerText','<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:10px;\x22>','grandTotal','\x20Adet\x20','₺\x20|\x20Kalan:\x20','getBoundingClientRect','products','book_append_sheet','dragover','logTableBody','getElementById','custName','cat-row','\x20silindi.','read','isStructured','410388fZnsAv','badge-info','Eklemek\x20istediğiniz\x20not:','replace','querySelectorAll','newQty','tableBody','phone','21IQxjso','addEventListener','saveNote','value','number','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onclick','effectAllowed','FİYAT','düştü','Sisteme\x20giriş\x20yapıldı.','forEach','badge-inc','SheetNames','₺\x20Olarak\x20Güncellendi',',\x20\x27','toUpperCase','sheet_to_json','Müşteri\x20Düzenle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','1814322AzkgXK','custRest','loginPassword','Genel\x20Not:\x20','Peşin','\x20Stoğu:\x20','Yeni\x20Müşteri\x20Ekle','toLocaleDateString','Silindi',',\x20this.value)\x22\x20onfocus=\x22this.select()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22qty-btn\x22\x20onclick=\x22updateQty(','logModal','utils','dragleave','3443790mxaIpS','custPaid','active','toString','custDevice','draggable','<tr><td\x20colspan=\x226\x22\x20style=\x22text-align:center;\x20padding:40px;\x22>Liste\x20Boş.</td></tr>','note','Yeni\x20Müşteri\x20Eklendi:\x20','price','device','5rztFUz','ADET','dataset','loginError','custNotes','TOPLAM','push','\x22\x20oninput=\x22updateData(','find','tr-TR','Tamamlandı.','customerView','qty','.dragging','files','Focus_Medikal_Full_Data.xlsx','add','custTotal','split','name','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fa-solid\x20fa-chevron-down\x20cat-icon\x22\x20style=\x22transform:','Stok\x20sıfırlandı.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:0.85rem;\x20color:#64748b;\x20margin-bottom:10px;\x22><i\x20class=\x22fa-solid\x20fa-phone\x22></i>\x20','Müşteriler','stopPropagation','createElement','block','Teklif\x20Verildi','custPhone','İsim\x20giriniz.',',\x20\x27price\x27,\x20this.value)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22currency\x22>₺</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20data-label=\x22Adet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qty-wrapper\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22qty-btn\x22\x20onclick=\x22updateQty(','setAttribute','globalSaveBtn','\x22\x20class=\x22action-btn\x22><i\x20class=\x22fa-solid\x20fa-phone\x22></i>\x20Ara</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22https://wa.me/90','now','7ejHjdE','join','some','readAsArrayBuffer','29480SfANee','GENEL\x20LİSTE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x226\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cat-actions\x22\x20onclick=\x22toggleCategory(\x27','currentTarget','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22cat-edit-btn\x22\x20onclick=\x22event.stopPropagation();\x20editCategoryName(\x27',',\x20\x27name\x27,\x20this.value)\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20data-label=\x22Fiyat\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22price-wrapper\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22input-clean\x20price-input\x22\x20placeholder=\x220\x22\x20value=\x22','flex','status-kapora','Excel:\x20','dataTransfer','reduce','ÜRÜN','findIndex','20931SerZHm','custStatus','book_new','STOK','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:10px;\x22><span\x20class=\x22badge\x20badge-admin\x22>','unshift','offsetHeight','notes','Müşteri\x20Silindi:\x20','status','action','remove','₺\x20|\x20Alınan:\x20','dragend','indexOf','<option>GENEL\x20LİSTE</option>','drag-over','</div><span\x20class=\x22cust-device\x22>','1451692bRnzwS','user','date','btnDeleteCust','\x22\x20silinsin\x20mi?\x20Ürünler\x20GENEL\x20LİSTE\x27ye\x20geçer.','Müşteri\x20Güncellendi:\x20','\x20->\x20','\x20|\x20','Eklendi','classList','innerHTML','newCat','querySelector','customerList','paymentType','onload','Yönetici','contains','random','custPaymentType','appContainer'];_0x5a17=function(){return _0x487e1f;};return _0x5a17();}function openModal(){const _0x1a32a9=_0x2fe239,_0x24c5e3=document[_0x1a32a9(0xd2)](_0x1a32a9(0x15e)),_0x36ec21=[...new Set(productData[_0x1a32a9(0xba)](_0x26ca98=>_0x26ca98[_0x1a32a9(0xa1)]))];_0x24c5e3[_0x1a32a9(0x15d)]=_0x1a32a9(0x150)+_0x36ec21[_0x1a32a9(0xba)](_0x55fe7a=>'<option>'+_0x55fe7a+_0x1a32a9(0xc3))['join']('')+_0x1a32a9(0x93),document['getElementById'](_0x1a32a9(0xbd))['style']['display']=_0x1a32a9(0x13a);}function checkNewCat(_0x327329){const _0x620e95=_0x2fe239;document[_0x620e95(0xd2)](_0x620e95(0x99))['style']['display']=_0x327329['value']===_0x620e95(0xc5)?_0x620e95(0x127):'none';}function closeModal(){const _0xe564de=_0x2fe239;document[_0xe564de(0xd2)](_0xe564de(0xbd))[_0xe564de(0x8d)]['display']='none';}function addNewProduct(){const _0x3bee8a=_0x2fe239,_0x1ee769=document['getElementById']('newCat')[_0x3bee8a(0xe3)],_0x3c6afe=document['getElementById']('newCatText')[_0x3bee8a(0xe3)];let _0x17d919=(_0x1ee769==='NEW'?_0x3c6afe:_0x1ee769)[_0x3bee8a(0xa3)]()[_0x3bee8a(0xf0)]();if(!_0x17d919)_0x17d919=_0x3bee8a(0x135);const _0x536589=document[_0x3bee8a(0xd2)](_0x3bee8a(0x95))[_0x3bee8a(0xe3)];if(!_0x536589){alert(_0x3bee8a(0x76));return;}productData[_0x3bee8a(0x113)]({'id':Date[_0x3bee8a(0x12f)](),'category':_0x17d919,'name':_0x536589,'price':parseFloat(document[_0x3bee8a(0xd2)](_0x3bee8a(0xa5))[_0x3bee8a(0xe3)])||0x0,'qty':parseInt(document['getElementById'](_0x3bee8a(0xdd))[_0x3bee8a(0xe3)])||0x1}),addLog(_0x536589+'\x20eklendi.'),openCategories[_0x3bee8a(0x11d)](_0x17d919),closeModal(),renderTable(),document['getElementById'](_0x3bee8a(0x12d))['style']['display']=_0x3bee8a(0x13a);}function processExcel(_0x58529f){const _0x5905e0=_0x2fe239,_0x112834=_0x58529f[_0x5905e0(0x11b)][0x0];if(!_0x112834)return;const _0x2f3af1=new FileReader();_0x2f3af1[_0x5905e0(0x6a)]=function(_0x3bab58){const _0x4f8c7b=_0x5905e0,_0x27a1f3=XLSX[_0x4f8c7b(0x100)][_0x4f8c7b(0xf1)](XLSX[_0x4f8c7b(0xd6)](_0x3bab58[_0x4f8c7b(0x80)][_0x4f8c7b(0xb2)],{'type':_0x4f8c7b(0x9d)})['Sheets'][XLSX[_0x4f8c7b(0xd6)](_0x3bab58[_0x4f8c7b(0x80)][_0x4f8c7b(0xb2)],{'type':_0x4f8c7b(0x9d)})[_0x4f8c7b(0xed)][0x0]],{'header':0x1,'defval':''});parseRowsSmart(_0x27a1f3,detectColumns(_0x27a1f3));},_0x2f3af1[_0x5905e0(0x133)](_0x112834),_0x58529f[_0x5905e0(0xe3)]='';}function detectColumns(_0x22f15a){const _0x30a0db=_0x2fe239;let _0x2c2704={'name':0x0,'stock':0x1,'price':0x2,'category':-0x1,'isStructured':![]};for(let _0x5919d7=0x0;_0x5919d7<Math[_0x30a0db(0x8e)](_0x22f15a[_0x30a0db(0x9f)],0xa);_0x5919d7++){const _0x20210c=_0x22f15a[_0x5919d7]['map'](_0x22066d=>String(_0x22066d)[_0x30a0db(0xf0)]()['trim']());if(_0x20210c[_0x30a0db(0xbf)](_0x30a0db(0x13f))&&(_0x20210c[_0x30a0db(0xbf)]('FİYAT')||_0x20210c['includes']('ADET'))){_0x2c2704['isStructured']=!![],_0x2c2704['name']=_0x20210c[_0x30a0db(0x14f)](_0x30a0db(0x13f));if(_0x20210c[_0x30a0db(0xbf)](_0x30a0db(0x10e)))_0x2c2704['stock']=_0x20210c[_0x30a0db(0x14f)]('ADET');else{if(_0x20210c[_0x30a0db(0xbf)](_0x30a0db(0x144)))_0x2c2704[_0x30a0db(0xa7)]=_0x20210c[_0x30a0db(0x14f)](_0x30a0db(0x144));}if(_0x20210c['includes'](_0x30a0db(0xe8)))_0x2c2704[_0x30a0db(0x10b)]=_0x20210c['indexOf'](_0x30a0db(0xe8));if(_0x20210c['includes'](_0x30a0db(0xac)))_0x2c2704['category']=_0x20210c[_0x30a0db(0x14f)]('KATEGORİ');break;}}return _0x2c2704;}function parseRowsSmart(_0x4cb6e3,_0x522bc8){const _0x3e7d1e=_0x2fe239;let _0x3684e3=0x0,_0x376f00=0x0,_0x394128=_0x3e7d1e(0x135);_0x4cb6e3[_0x3e7d1e(0xeb)](_0x260aaa=>{const _0x336a17=_0x3e7d1e;if(!_0x260aaa||_0x260aaa[_0x336a17(0x9f)]===0x0)return;let _0x4854ed='',_0x19cef3=0x0,_0x5248d6=0x0,_0x46f23d='';if(_0x522bc8[_0x336a17(0xd7)]){_0x4854ed=(_0x260aaa[_0x522bc8['name']]||'')[_0x336a17(0x105)]()[_0x336a17(0xa3)]();if(!_0x4854ed||[_0x336a17(0x13f),'STOK',_0x336a17(0xe8)][_0x336a17(0x132)](_0xee25c8=>_0x4854ed[_0x336a17(0xf0)]()[_0x336a17(0xbf)](_0xee25c8)))return;_0x19cef3=cleanPrice(_0x260aaa[_0x522bc8[_0x336a17(0xa7)]]),_0x5248d6=cleanPrice(_0x260aaa[_0x522bc8[_0x336a17(0x10b)]]);if(_0x522bc8['category']>-0x1&&_0x260aaa[_0x522bc8[_0x336a17(0xa1)]]){let _0x16bf33=_0x260aaa[_0x522bc8[_0x336a17(0xa1)]][_0x336a17(0x105)]()[_0x336a17(0xa3)]();if(_0x16bf33)_0x394128=_0x16bf33[_0x336a17(0xf0)]();}_0x46f23d=_0x394128;}else{let _0x267e9c=(_0x260aaa[0x0]||'')[_0x336a17(0x105)]()[_0x336a17(0xa3)](),_0x1f7801=(_0x260aaa[0x1]||'')[_0x336a17(0x105)]()[_0x336a17(0xa3)](),_0x49e454=(_0x260aaa[0x2]||'')[_0x336a17(0x105)]()[_0x336a17(0xa3)]();if(!_0x267e9c&&_0x49e454&&isNaN(cleanPrice(_0x49e454))){if(![_0x336a17(0x112),'TABLOSU'][_0x336a17(0x132)](_0x476f0b=>_0x49e454[_0x336a17(0xf0)]()[_0x336a17(0xbf)](_0x476f0b)))_0x394128=_0x49e454['toUpperCase']();return;}if(!_0x267e9c||[_0x336a17(0x13f),_0x336a17(0x144)][_0x336a17(0x132)](_0x1b33a0=>_0x267e9c[_0x336a17(0xf0)]()[_0x336a17(0xbf)](_0x1b33a0)))return;_0x4854ed=_0x267e9c,_0x19cef3=cleanPrice(_0x1f7801),_0x5248d6=cleanPrice(_0x49e454),_0x46f23d=_0x394128;}const _0x53ec88=productData['find'](_0x34ff33=>_0x34ff33[_0x336a17(0x120)]['trim']()[_0x336a17(0xaf)]()===_0x4854ed['toLowerCase']());_0x53ec88?(_0x53ec88[_0x336a17(0x10b)]!==_0x5248d6||_0x53ec88[_0x336a17(0x119)]!==_0x19cef3)&&(_0x53ec88[_0x336a17(0x10b)]=_0x5248d6,_0x53ec88[_0x336a17(0x119)]=_0x19cef3,_0x376f00++):(productData[_0x336a17(0x113)]({'id':Date['now']()+Math[_0x336a17(0x6d)](),'category':_0x46f23d,'name':_0x4854ed,'price':_0x5248d6,'qty':_0x19cef3}),_0x3684e3++);}),[...new Set(productData['map'](_0x5deb69=>_0x5deb69[_0x3e7d1e(0xa1)]))][_0x3e7d1e(0xeb)](_0x50ef4b=>openCategories[_0x3e7d1e(0x11d)](_0x50ef4b)),(_0x3684e3>0x0||_0x376f00>0x0)&&(addLog(_0x3e7d1e(0x13c)+_0x3684e3+'\x20yeni,\x20'+_0x376f00+_0x3e7d1e(0x72)),alert(_0x3e7d1e(0x117)),document[_0x3e7d1e(0xd2)](_0x3e7d1e(0x12d))[_0x3e7d1e(0x8d)][_0x3e7d1e(0x7e)]=_0x3e7d1e(0x13a),renderTable());}function cleanPrice(_0x36af21){const _0x2a1f8c=_0x2fe239;if(typeof _0x36af21===_0x2a1f8c(0xe4))return _0x36af21;if(!_0x36af21)return 0x0;let _0x3e31e0=_0x36af21['toString']()[_0x2a1f8c(0xdb)](/[^0-9.,]/g,'');if(_0x3e31e0['includes'](',')&&_0x3e31e0[_0x2a1f8c(0xbf)]('.'))_0x3e31e0=_0x3e31e0[_0x2a1f8c(0xdb)](/\./g,'')['replace'](',','.');else{if(_0x3e31e0['includes'](','))_0x3e31e0=_0x3e31e0[_0x2a1f8c(0xdb)](',','.');else{if(_0x3e31e0[_0x2a1f8c(0xbf)]('.')&&_0x3e31e0[_0x2a1f8c(0x11f)]('.')[0x1][_0x2a1f8c(0x9f)]===0x3)_0x3e31e0=_0x3e31e0[_0x2a1f8c(0xdb)](/\./g,'');}}return parseFloat(_0x3e31e0)||0x0;}function exportToExcel(){const _0x13fd1e=_0x2fe239,_0x364a56=productData[_0x13fd1e(0xba)](_0x1db8c0=>({'KATEGORİ':_0x1db8c0[_0x13fd1e(0xa1)],'ÜRÜN':_0x1db8c0[_0x13fd1e(0x120)],'FİYAT':_0x1db8c0[_0x13fd1e(0x10b)],'ADET':_0x1db8c0[_0x13fd1e(0x119)],'TOPLAM':_0x1db8c0[_0x13fd1e(0x10b)]*_0x1db8c0[_0x13fd1e(0x119)]})),_0x3d7355=customerData['map'](_0x13606f=>({'AD\x20SOYAD':_0x13606f['name'],'TELEFON':_0x13606f[_0x13fd1e(0xdf)],'CİHAZ':_0x13606f['device'],'DURUM':_0x13606f[_0x13fd1e(0x14a)],'TOPLAM':_0x13606f[_0x13fd1e(0xb6)],'ALINAN':_0x13606f[_0x13fd1e(0xb3)],'KALAN':_0x13606f[_0x13fd1e(0xb6)]-_0x13606f[_0x13fd1e(0xb3)],'NOT':_0x13606f[_0x13fd1e(0x148)]})),_0x1a44ce=logData[_0x13fd1e(0xba)](_0x344f2e=>({'TARİH':_0x344f2e[_0x13fd1e(0x155)],'KULLANICI':_0x344f2e[_0x13fd1e(0x154)],'AÇIKLAMA':_0x344f2e[_0x13fd1e(0x14b)],'NOT':_0x344f2e[_0x13fd1e(0x109)]||''})),_0x501de3=XLSX[_0x13fd1e(0x100)][_0x13fd1e(0x143)]();XLSX[_0x13fd1e(0x100)]['book_append_sheet'](_0x501de3,XLSX['utils'][_0x13fd1e(0x92)](_0x364a56),'Stok\x20Listesi'),XLSX[_0x13fd1e(0x100)][_0x13fd1e(0xcf)](_0x501de3,XLSX[_0x13fd1e(0x100)][_0x13fd1e(0x92)](_0x3d7355),_0x13fd1e(0x124)),XLSX[_0x13fd1e(0x100)][_0x13fd1e(0xcf)](_0x501de3,XLSX[_0x13fd1e(0x100)]['json_to_sheet'](_0x1a44ce),'Loglar'),XLSX['writeFile'](_0x501de3,_0x13fd1e(0x11c));}
